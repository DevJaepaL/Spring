<a href="https://velog.io/@jaepal/Spring-Boot-" target="_blank">ì›ë³¸ ê¸€ [Velog]</a>

![](https://velog.velcdn.com/images/jaepal/post/5688a900-c6ef-4715-94cb-422d8bbe6deb/image.png)

# <span style="color: #6DB33F">Spring Boot ğŸƒ</span>

> ìŠ¤í”„ë§ ë¶€íŠ¸ë€ **Spring**ì´ ê°€ì¡Œë˜ ëŠë‚Œì„ ë˜ì‚´ë¦¬ë©°, ìµœì†Œí•œì˜ ì„¤ì •ìœ¼ë¡œ ë³„ë„ì˜ *WAS* ì—†ì´ ì‹¤í–‰ì´ ê°€ëŠ¥í•œ **ìë°”ì˜ ì›¹ í”„ë ˆì„ì›Œí¬**ì´ë‹¤.


+ ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ì¥ì 

âœ… **ìì²´ì ìœ¼ë¡œ ë‚´ì¥ ì›¹ ì„œë²„ë¥¼ ì§€ì›**í•œë‹¤.

âœ… **ì¿ í‚¤&ì„¸ì…˜ ì²˜ë¦¬, ì¸ê°€(Authorization), ë¡œê·¸ì¸ ê¸°ëŠ¥** ë“±ì„ ê¸°ë³¸ì ìœ¼ë¡œ ì§€ì›í•´ì¤€ë‹¤.

âœ… ê¸°ì¡´ ìŠ¤í”„ë§ì— ë¹„í•´ ì„¤ì •ì´ ê°„ë‹¨í•˜ë‹¤.

___

## Spring Data JPA

> í”„ë ˆì„ì›Œí¬ì—ì„œ JPAë¥¼ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í• ìˆ˜ ìˆë„ë¡ ì œê³µí•´ì£¼ëŠ” ìš”ì†Œë‹¤.

ğŸ’¡ **JPAë€?**

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸ ìë°”ì—ì„œ ì œê³µí•˜ëŠ” APIì´ë©° SQLì„ ì§ì ‘ ì‘ì„±í•˜ì§€ ì•Šê³  JPAë¥¼ í†µí•´ ì ì ˆí•œ SQLë¬¸ì„ ì‘ì„±í•˜ì—¬** ê°ì²´ë¥¼ ìë™ì ìœ¼ë¡œ ì „ë‹¬ ë° ë§¤í•‘**í•´ì¤€ë‹¤.

ì´ ì™¸ì— ì´ëŸ° ìœ ìš©í•œ ê¸°ëŠ¥ë„ ì œê³µí•´ì¤€ë‹¤.

â­ **CRUD ì²˜ë¦¬**ë¥¼ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ ì œê³µ
â­ ì¸í„°í˜ì´ìŠ¤ë§Œ ì‘ì„±í•´ë„ JPAê°€ êµ¬í˜„ ê°ì²´ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•œë‹¤.

### ORM(`Object Relation Mapping`)

> ê°ì²´ì§€í–¥ íŒ¨ëŸ¬ë‹¤ì„ì„ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì— ë³´ì¡´í•˜ëŠ” ê¸°ìˆ ì´ë‹¤.

ORMì€ ê°ì²´ì§€í–¥ê³¼ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ìœ ì‚¬í•œ ì ì´ ë§¤ìš° ë§ë‹¤.
+ ê°ì²´ì§€í–¥ ì–¸ì–´ì—ì„œì˜ **`í´ë˜ìŠ¤`ëŠ” ë°ì´í„°ì˜ êµ¬ì¡°ë¥¼ ì„¤ê³„**í•œë‹¤.
+ ê´€ê³„í˜• ë°ì´í„° ë² ì´ìŠ¤ëŠ” **`í´ë˜ìŠ¤`ëŠ” ì•„ë‹ˆì§€ë§Œ `Table`ì„ ì„¤ê³„**í•œë‹¤.

![](https://velog.velcdn.com/images/jaepal/post/f03b826f-2e77-489d-aaf9-250b938f0731/image.png)

```java
class Member {
	private String id;
    private String pw;
    private String name;
}
```
ì´ë ‡ë“¯ í…Œì´ë¸”ì€, ì»¬ëŸ¼ì„ ì •ì˜í•˜ë©° ì»¬ëŸ¼ì— ë°ì´í„° íƒ€ì…ì„ ì§€ì •í•œë‹¤ëŠ” ì ì—ì„œ ê°ì²´ì§€í–¥ì˜ í´ë˜ìŠ¤ì™€ ìœ ì‚¬í•œ ì ì´ ë§ë‹¤.

ì´ì™¸ì—ë„  `ì¸ìŠ¤í„´ìŠ¤` & `ë ˆì½”ë“œ`ë˜í•œ ìœ ì‚¬í•œ ì ì´ ìˆë‹¤.
+ í´ë˜ìŠ¤ëŠ” í´ë˜ìŠ¤ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ì— ë°ì´í„°ë¥¼ ë³´ê´€í•œë‹¤.
+ DBëŠ” í•˜ë‚˜ì˜ í–‰(Row)ì— ë°ì´í„°ë¥¼ ì €ì¥(ë ˆì½”ë“œ OR íŠœí”Œ)í•œë‹¤.

í•œ ê°€ì§€ ë‹¤ë¥¸ ì ì´ë¼ë©´ **ê°ì²´ì§€í–¥ì—ì„œì˜ ê°ì²´ëŠ” ë°ì´í„°ì™€ í–‰ìœ„(Method)**ë¡œ ì´ë£¨ì–´ì ¸ ìˆì§€ë§Œ ** DBì—ì„œëŠ” ê°œì²´(Entity)ê°€ ì˜¤ì§ ë°ì´í„°ë§Œ ì¡´ì¬** í•œë‹¤ëŠ” ê²ƒì´ë‹¤.


ORMì€ ì´ëŸ¬í•œ ì ì„ ê¸°ì´ˆë¡œ í•˜ì—¬ ê°ì²´ì§€í–¥ì˜ ìš”ì†Œë¥¼ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì— ë§ê²Œ ìë™ì ìœ¼ë¡œ ì²˜ë¦¬í•´ì£¼ëŠ” ê¸°ë²•ì—ì„œ ì‹œì‘ëœ ê²ƒì´ë‹¤! 

> ğŸ’¡ì¦‰ ì´ë¥¼ í†µí•´ ì•Œìˆ˜ìˆëŠ” ì ì€ JPA(`Java Presistence API`)ëŠ” ORMì˜ í•˜ìœ„ ê°œë…ì´ë¼ ë³¼ìˆ˜ìˆë‹¤.

![](https://velog.velcdn.com/images/jaepal/post/60bd0ed9-2649-4772-9c0e-fcaeccc56a06/image.png)

ì´ ì¤‘ ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” `JPA`ì˜ êµ¬í˜„ì²´ ì¤‘ `Hibernate` ë¼ëŠ” êµ¬í˜„ì²´ë¥¼ ì´ìš©í•œë‹¤.
`Spring Data JPA`ë¥¼ í”„ë¡œì íŠ¸ ìƒì„±ì‹œ ì˜ì¡´ì„±ì„ ì¶”ê°€í•˜ê²Œ ë˜ë©´ ìœ ìš©í•œ APIë“¤ì„ ì œê³µí•´ì¤€ë‹¤.

![](https://velog.velcdn.com/images/jaepal/post/509ec945-b46e-4f3c-b30b-372191112a56/image.png)

`Spring Data JPA`ë¥¼ ì´ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ìš©ì´í•˜ê²Œ DB ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.
`Spring Data` â†’ `Hibernate` â†’ `JDBC` â†’ `DB`

### Spring Data JPA ì‚¬ìš© ì‹œ í•„ìš” ì¡°ê±´ âœ…

í•´ë‹¹ ê¸€ì—ì„œëŠ” `Maria DB`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•©ë‹ˆë‹¤.

+ `MariaDB`ì™€ ì—°ê³„í•˜ê¸° ìœ„í•´ `JDBC` ë“œë¼ì´ë²„ë¥¼ ì„¤ì •í•´ì•¼í•œë‹¤.
+ ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ ë‚´ì—ì„œ `MariaDB` ì„¤ì •

`MariaDB`ìš© JDBC ë“œë¼ì´ë²„ëŠ” [Maven Repository í™ˆí˜ì´ì§€](https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client) ì—ì„œ  ì°¾ì„ìˆ˜ ìˆë‹¤.

![](https://velog.velcdn.com/images/jaepal/post/6de94e05-5787-487f-a1ca-f83f5d401472/image.png)

+ `Gradle` í•­ëª©ì—ì„œ ê´€ë ¨ ì„¤ì •ì„ ë³µì‚¬í•œë‹¤.
+ ì„¤ì •í•˜ë ¤ëŠ” í”„ë¡œì íŠ¸ì˜ `build.gradle` íŒŒì¼ì˜ `dependencies` í•­ëª©ì— ì¶”ê°€í•œë‹¤.

![](https://velog.velcdn.com/images/jaepal/post/5347639a-870f-48f1-bfad-c27080c1e018/image.png)

+ `application.properties` íŒŒì¼ ë‚´ì— `JDBC Driver`ì™€ ì—°ê²°í•˜ê¸° ìœ„í•œ ë‚´ìš©ì„ ì¶”ê°€í•œë‹¤.

ì£¼ì˜ ! âš ï¸ 
> MariaDBì— ë“±ë¡ëœ í…Œì´ë¸” ëª… & ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë“±ë¡í•´ì¤˜ì•¼í•œë‹¤.

```js
spring.datasource.driver-class-name = org.mariadb.jdbc.Driver
spring.datasource.url=jdbc:mariadb://localhost:3306/bootex
spring.datasource.username=bootUser
spring.datasource.password=bootUser
```
ì´í›„ í”„ë¡œì íŠ¸ ì‹¤í–‰ ì‹œ í„°ë¯¸ë„ì— ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ ëëŠ”ì§€ í™•ì¸í•œë‹¤.

![](https://velog.velcdn.com/images/jaepal/post/3a9dbfb0-c091-42b4-a98e-750772fab892/image.png)

___

## `Entity`

`Spring Data JPA`ì—ì„œ ê°œë°œì— í•„ìš”í•œ ê²ƒì€ ë‘ ì¢…ë¥˜ì˜ ì½”ë“œì´ë‹¤.

+ `JPA`ë¥¼ í†µí•´ì„œ ê´€ë¦¬í•˜ê²Œ ë˜ëŠ” ê°ì²´(`Entity`)ë¥¼ ìœ„í•œ `Entity` í´ë˜ìŠ¤
+ ì—”í‹°í‹° ê°ì²´ë“¤ì„ ì²˜ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§„ `Repository`

âœ… `Repository`ëŠ” `Spring data JPA`ì—ì„œ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¡œ ì„¤ê³„í•˜ëŠ”ë° ìŠ¤í”„ë§ ë‚´ë¶€ì—ì„œ ìë™ìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì‹¤í–‰í•˜ëŠ” êµ¬ì¡°ë¥¼ ê°–ê³ ìˆë‹¤.

### `Entity` í´ë˜ìŠ¤ ì‘ì„±

`BookMarket`ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ì˜ˆì‹œë¡œ ë§Œë“¤ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
ì—”í‹°í‹° í´ë˜ìŠ¤ëŠ” ë§ˆì¹˜ `DB`ì˜ í…Œì´ë¸”ê³¼ ê°™ì€ êµ¬ì¡°ë¡œ ì‘ì„±í•œë‹¤.

```java
package springbootstudy.ch1.entity;
import jakarta.persistence.*;
import lombok.ToString;

@Entity
@Table(name="Table_BookMarket")
@ToString
public class BookMarket {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private int memberNo;
}

```

#### `@Entity`

ğŸŸ¡ ì—”í‹°í‹° í´ë˜ìŠ¤ì˜ `Spring Data JPA` ì—ì„œëŠ” **`@Entity` ë¼ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ ì¶”ê°€ë¼ì•¼í•œë‹¤. **
ğŸŸ¡ `@Entity`ëŠ” **í•´ë‹¹ í´ë˜ìŠ¤ê°€ ì—”í‹°í‹° í´ë˜ìŠ¤**ë¥¼ ìœ„í•œ í´ë˜ìŠ¤ì´ë‹¤.
ğŸŸ¡ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë“¤ì´ **`JPA`ë¡œ ê´€ë¦¬ë˜ëŠ” ì—”í‹°í‹° ê°ì²´**ì„ì„ ì˜ë¯¸í•œë‹¤.

ë˜í•œ `@Entity`ê°€ ë¶™ì€ í´ë˜ìŠ¤ëŠ” ì˜µì…˜ì— ë”°ë¼ ìë™ì ìœ¼ë¡œ í…Œì´ë¸”ì„ ìƒì„±í•´ì¤€ë‹¤.
ì´ë¥¼ ì´ìš©í•˜ì—¬ í´ë˜ìŠ¤ ë‚´ì˜ ë©¤ë²„ ë³€ìˆ˜ì— ë”°ë¼ ì»¬ëŸ¼ë“¤ë„ ìë™ì ìœ¼ë¡œ ìƒì„±ëœë‹¤.

#### `@Table`

ğŸŸ  ì–´ë…¸í…Œì´ì…˜ì˜ ì´ë¦„ ê·¸ëŒ€ë¡œ `DB`ìƒì—ì„œ ì—”í‹°í‹° í´ë˜ìŠ¤ë¥¼ ì–´ë– í•œ í…Œì´ë¸”ë¡œ ìƒì„±í•  ê²ƒì¸ì§€ ì •ì˜í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.

í˜„ì¬ ì •ì˜í•œ í…Œì´ë¸” ëª…ì€ `Table_BookMarket` ì´ë‹¤.

#### `@Id` & `GeneratedValue`

ğŸŸ¢ `@Entity`ê°€ ë¶™ì€ í´ë˜ìŠ¤ëŠ”** `PK` ì— í•´ë‹¹í•˜ëŠ” í•„ë“œë¥¼ `@Id` ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì§€ì •** í•´ì¤˜ì•¼í•œë‹¤.

ë˜í•œ `@Id` ì‚¬ìš©ìê°€ ì…ë ¥í•˜ëŠ” ê°’ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ì•„ë‹ˆë©´ **ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ë„ë¡ `@GeneratedValue` ì–´ë…¸í…Œì´ì…˜**ì„ ì‚¬ìš©í•œë‹¤.

ğŸŸ¢ ì–´ë…¸í…Œì´ì…˜ ê´„í˜¸ì•ˆì— ë‹´ê¸´ ë‚´ìš©ì¸ `GenerationType.IDENTITY`ì˜ ê²½ìš° PKë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ëŠ” ë¶€ë¶„ì´ë‹¤.

#### `@Column`

í´ë˜ìŠ¤ ë‚´ì— ì¶”ê°€ì ì¸ í•„ë“œê°€ í•„ìš”í•œ ê²½ìš°ì—ë„ ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ ìƒì„±ì´ ê°€ëŠ¥í•˜ë‹¤.
`nullable` , `name`, `length` ë“±ì„ ì´ìš©í•´ ì†ì„±ì— ë‹¤ì–‘í•œ ê°’ë“¤ì„ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤.

```java
package springbootstudy.ch1.entity;
import jakarta.persistence.*;
import lombok.*;

@Entity
@Table(name="Table_BookMarket")
@ToString
/* ì–´ë…¸í…Œì´ì…˜ ì¶”ê°€ */
@Getter     // Getter ë©”ì†Œë“œë¥¼ ìƒì„±í•œë‹¤.
@Builder    // ê°ì²´ ìƒì„±í•  ìˆ˜ ìˆê²Œ ì²˜ë¦¬í•´ì¤€ë‹¤.

/* Builder ì‚¬ìš©ì„ ìœ„í•´ ArgsConstructorë¥¼ ê°™ì´ ì²˜ë˜í•´ì¤˜ì•¼ ì»´íŒŒì¼ ì—ëŸ¬ ë°©ì§€ê°€ ê°€ëŠ¥í•˜ë‹¤. */
@AllArgsConstructor
@NoArgsConstructor
public class BookMarket {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private int memberNo;

    @Column(length = 50, nullable = false) // ì»¬ëŸ¼ì˜ í¬ê¸° 150ê¹Œì§€ & NULL ê°’ í—ˆìš©í•˜ì§€ ì•ŠìŒ.
    private String bookName;
}

```

ì—¬ê¸°ì„œ ìë™ìœ¼ë¡œ í•„ìš”í•œ í…Œì´ë¸”ì˜ ìƒì„±ê³¼ `JPA`ë¥¼ ì´ìš©í•  ë•Œ ë°œìƒí•˜ëŠ” `SQL`ì˜ ë‚´ìš©ì„ í„°ë¯¸ë„ì—ì„œ í™•ì¸í•˜ê¸° ìœ„í•´ `application.properties`ë¥¼ ë³€ê²½ í•´ì¤˜ì•¼í•œë‹¤.

```python
# ë‚´ìš© ì¶”ê°€
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.show-sql=true
```

+ First Line : **í”„ë¡œì íŠ¸ ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ `DDL`ì„ ìƒì„±**í•  ê²ƒì¸ì§€ ê²°ì •í•˜ëŠ” ì„¤ì •ì´ë‹¤.
+ Second Line : ì‹¤ì œ **`JPA`ì˜ êµ¬í˜„ì²´ì¸ `Hibernate`ê°€ ë™ì‘í•˜ë©° ë°œìƒí•˜ëŠ” `SQL`ì„ í¬ë§·íŒ…**í•´ ì¶œë ¥í•˜ëŠ” ì„¤ì •ì´ë‹¤.
+ Third Line : **`JPA` ì²˜ë¦¬ ì‹œ ë°œìƒí•˜ëŠ” `SQL`ì„ ë³´ì—¬ì¤„ ê²ƒì¸ì§€ ê²°ì •**í•œë‹¤.

í•´ë‹¹ ì„¤ì • í›„ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•´ë³´ë©´ `Hiberante`ê°€ í„°ë¯¸ë„ì—ì„œ í…Œì´ë¸”ì„ ìƒì„±í•œ `SQL`ë¬¸ì„ ì¶œë ¥ëœ ê²ƒì´ í™•ì¸ëœë‹¤.

![](https://velog.velcdn.com/images/jaepal/post/f1463152-75e2-4ccc-a1aa-b87f083f4f8a/image.png)

**`MariaDB` ì—ì„œ í…Œì´ë¸” í™•ì¸**

![](https://velog.velcdn.com/images/jaepal/post/c9ed1fb7-bf6d-43a0-abaa-6e09467a81ee/image.png)

ì´ì²˜ëŸ¼ `MariaDB`ì—ì„œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì§€ ì•Šë”ë¼ë„ `Class`ë¥¼ í†µí•´ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„ì´ ê°€ëŠ¥í•œ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤!

___



## ë§ˆì¹˜ë©°

`Java`ë¥¼ ìœ ë… ì¢‹ì•„í•˜ëŠ” ë‚˜ë¡œì„œ ìŠ¤í”„ë§ ë¶€íŠ¸ ê³µë¶€ëŠ” ì •ë§ ì¬ë°Œë‹¤.
ë‹¤ìŒ ì±•í„° ì—ì„œ ë‹¤ë¤„ë³¼ ë‚´ìš©ì€ `JPA Repository`ë¥¼ ì´ìš©í•´ `CRUD`ë¥¼ êµ¬í˜„í•´ë³´ë ¤ê³  í•œë‹¤.

> + ì°¸ê³  ë‚´ìš© 
ğŸ“– ì½”ë“œë¡œ ë°°ìš°ëŠ” ìŠ¤í”„ë§ ë¶€íŠ¸ ì›¹í”„ë¡œì íŠ¸
